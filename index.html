<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <title>Shree Shyam Yatra | Kotputli ‚áÑ Khatu Shyam Baba</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI';
            background: radial-gradient(circle at top, #ffe4e4 0, #fff 45%, #f7f7f7 100%);
        }

        header {
            background: linear-gradient(90deg, #c62828, #ad1457);
            color: #fff;
            padding: 1rem 1.5rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.25);
        }

        .container {
            max-width: 1100px;
            margin: 1.5rem auto;
            padding: 0 1rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }

        @media (max-width: 900px) {
            .container { grid-template-columns: 1fr; }
        }

        .card {
            background: #fff;
            border-radius: 14px;
            padding: 1.2rem 1.3rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        input, select {
            width: 100%;
            padding: 0.45rem;
            border-radius: 6px;
            border: 1px solid #ccc;
            font-size: 0.9rem;
            box-sizing: border-box;
        }

        .fare-box {
            padding: 12px;
            border-radius: 10px;
            background: #fff7e0;
            width: 180px;
            border-left: 5px solid #f9a825;
        }

        button {
            padding: 0.55rem 1rem;
            border-radius: 999px;
            cursor: pointer;
        }

        #btnConfirm {
            background: linear-gradient(90deg,#c62828,#ad1457);
            color:#fff;
            border:none;
        }

        #btnPay {
            border:1px solid #c62828;
            background:#fff;
            color:#c62828;
        }

        @media (max-width: 600px) {
            header div { flex-wrap: wrap; justify-content: center !important; text-align: center; }
            .container { padding: 0 10px !important; }
            .card { padding: 1rem !important; }
            .route-box, .payment-box, .fare-box {
                width: 100% !important;
            }
            #btnConfirm, #btnPay {
                width: 100% !important;
                margin-top: 10px;
            }
        }
    </style>
</head>

<body>

<header>
    <div style="display:flex;align-items:center;gap:0.7rem;">
        <div style="width:45px;height:45px;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center;background:#fff;">
            <img src="OIP.jpg" style="width:100%;height:100%;object-fit:cover;">
        </div>

        <div>
            <h1 style="font-size:1.3rem;margin:0;">Khatu Shyam Yatra Kotputli</h1>
            <p style="font-size:0.8rem;opacity:0.9;margin:0;">Kotputli ‚áÑ Khatu Shyam Baba | Online Ticket Booking</p>
        </div>
    </div>
</header>

<div class="container">

    <div class="card">
        <h2 style="font-size:1.2rem;margin-bottom:0.7rem;">‡§Ö‡§™‡§®‡•Ä ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§¨‡•Å‡§ï ‡§ï‡§∞‡•á‡§Ç</h2>

        <span style="display:inline-block;background:#ffe0e0;color:#b71c1c;padding:0.15rem 0.5rem;border-radius:999px;font-size:0.75rem;margin-bottom:0.5rem;">
            ‡§ï‡•á‡§µ‡§≤ Kotputli ‚áÑ Khatu Shyam Baba ‡§∞‡•Ç‡§ü
        </span>

        <label style="font-size:0.85rem;font-weight:600;">‡§∞‡•Ç‡§ü ‡§ö‡•Å‡§®‡•á‡§Ç</label>

        <!-- ‚≠ê FIXED ROUTE UI ‚≠ê -->
        <div class="route-box" style="
            margin-top:6px;
            padding:10px 14px;
            border:1px solid #e0e0e0;
            background:#fafafa;
            border-radius:12px;
            display:flex;
            align-items:center;
            gap:10px;
            width:100%;
            max-width:350px;
        ">
            <input type="radio" name="route" value="Kotputli ‚Üí Khatu Shyam Baba" checked style="accent-color:#c62828; transform:scale(1.2);">

            <span style="
                width:32px;
                height:32px;
                background:#fff3e0;
                border-radius:8px;
                display:flex;
                align-items:center;
                justify-content:center;
                font-size:18px;
            ">üöå</span>

            <span style="font-size:0.9rem; font-weight:600; color:#444;">
                Kotputli ‚Üí Khatu Shyam Baba
            </span>
        </div>

        <!-- FORM FIELDS -->
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:0.75rem;margin-top:1rem;">
            <div>
                <label>‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§§‡§ø‡§•‡§ø</label>
                <input type="date" id="date">
            </div>
        </div>

        <div style="display:grid;grid-template-columns:1fr 1fr;gap:0.75rem;margin-top:1rem;">
            <div>
                <label>‡§Ø‡§æ‡§§‡•ç‡§∞‡•Ä ‡§ï‡§æ ‡§®‡§æ‡§Æ</label>
                <input type="text" id="name" placeholder="‡§Ö‡§™‡§®‡§æ ‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç">
            </div>

            <div>
                <label>‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞</label>
                <input type="text" id="phone" placeholder="10 ‡§Ö‡§Ç‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§®‡§Ç‡§¨‡§∞">
            </div>

            <div>
                <label>‡§≤‡§ø‡§Ç‡§ó</label>
                <select id="gender">
                    <option value="">‡§∏‡•á‡§≤‡•á‡§ï‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç</option>
                    <option value="Male">‡§™‡•Å‡§∞‡•Å‡§∑(Male)</option>
                    <option value="Female">‡§Æ‡§π‡§ø‡§≤‡§æ(Female)</option>
                    <option value="Other">‡§Ö‡§®‡•ç‡§Ø(Other)</option>
                </select>
            </div>

            <div>
                <label>‡§â‡§Æ‡•ç‡§∞</label>
                <select id="age">
                    <option value="">‡§â‡§Æ‡•ç‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç</option>
                </select>
            </div>
        </div>

        <script>
            for (let i = 1; i <= 100; i++) {
                document.getElementById("age").innerHTML += `<option value="${i}">${i} ‡§µ‡§∞‡•ç‡§∑</option>`;
            }
        </script>

        <!-- ‚≠ê FIXED PAYMENT UI ‚≠ê -->
        <div class="payment-box" style="
            margin-top:1rem; 
            padding:12px; 
            border:1px solid #ddd; 
            background:#fafafa;
            border-radius:10px;
            max-width:350px;
            width:100%;
        ">
            <label style="font-size:0.9rem;font-weight:600;margin-bottom:6px;display:block;">Payment Mode ‡§ö‡•Å‡§®‡•á‡§Ç</label>

            <div style="display:flex; gap:25px; flex-wrap:wrap;">
                <label style="display:flex; align-items:center; gap:6px;">
                    <input type="radio" name="payMethod" value="CASH" style="accent-color:#c62828;">
                    Cash
                </label>

                <label style="display:flex; align-items:center; gap:6px;">
                    <input type="radio" name="payMethod" value="ONLINE" style="accent-color:#c62828;">
                    Online
                </label>
            </div>
        </div>

        <div style="display:flex;gap:20px;margin-top:1rem;">
            <div class="fare-box">
                <div style="font-size:1.1rem;font-weight:700;color:#d32f2f;">
                    ‡§ï‡•Å‡§≤ ‡§∞‡§æ‡§∂‡§ø: <span id="totalFare">‚Çπ250</span>
                </div>
            </div>
        </div>

        <div style="margin-top:1rem;">
            <button id="btnConfirm">Book Ticket</button>
            <button id="btnPay">üí≥ ‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü</button>
        </div>

        <div style="font-size:0.75rem;color:#777;margin-top:0.5rem;">
            Any issue to Contact Shyam Group.
        </div>
    </div>

</div>

<script>

// Ticket number
function generateTicketNumber(){
    const num = Math.floor(Math.random() * 100) + 1;
    return "SYM" + String(num).padStart(3, '0');
}

// PDF Generate
async function generatePDF(data){
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    doc.setFillColor(198, 40, 40);
    doc.rect(0, 0, 210, 22, "F");

    doc.setFontSize(18);
    doc.setTextColor(255, 255, 255);
    doc.text("Shree Shyam Yatra ‚Äì Travel Ticket", 12, 15);

    doc.setTextColor(0,0,0);
    doc.setFontSize(14);
    doc.text(`Ticket No: ${data.ticket}`, 20, 40);

    doc.setFontSize(12);
    doc.text(`Name: ${data.name}`, 20, 55);
    doc.text(`Mobile: ${data.phone}`, 20, 65);
    doc.text(`Gender: ${data.gender}`, 20, 75);
    doc.text(`Age: ${data.age} Years`, 20, 85);
    doc.text(`Travel Date: ${data.date}`, 20, 95);
    doc.text(`Route: ${data.route}`, 20, 110);
    doc.text(`Fare: ‚Çπ250`, 20, 120);
    doc.text(`Payment Mode: ${data.payment}`, 20, 130);

    doc.save(`ShyamYatra_${data.ticket}.pdf`);
}

function getFormData(){
    return {
        name: document.getElementById('name').value.trim(),
        phone: document.getElementById('phone').value.trim(),
        gender: document.getElementById('gender').value,
        age: document.getElementById('age').value,
        date: document.getElementById('date').value,
        payment: document.querySelector('input[name="payMethod"]:checked')?.value || "",
        route: "Kotputli ‚Üí Khatu Shyam Baba"
    };
}

function validate(data){
    if (!data.name) { alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§®‡§æ‡§Æ ‡§≠‡§∞‡•á‡§Ç"); return false; }
    if (!/^[0-9]{10}$/.test(data.phone)) { alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§π‡•Ä ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§≠‡§∞‡•á‡§Ç"); return false; }
    if (!data.gender) { alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§≤‡§ø‡§Ç‡§ó ‡§ö‡•Å‡§®‡•á‡§Ç"); return false; }
    if (!data.age) { alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§â‡§Æ‡•ç‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç"); return false; }
    if (!data.date) { alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§§‡§ø‡§•‡§ø ‡§ö‡•Å‡§®‡•á‡§Ç"); return false; }
    if (!data.payment) { alert("‡§ï‡•É‡§™‡§Ø‡§æ Payment Mode ‡§ö‡•Å‡§®‡•á‡§Ç"); return false; }
    return true;
}

// CASH BOOKING
document.getElementById('btnConfirm').onclick = () => {
    let d = getFormData();
    if (!validate(d)) return;

    if (d.payment !== "CASH") {
        alert("‡§ï‡•É‡§™‡§Ø‡§æ Payment Mode ‚Üí Cash ‡§ö‡•Å‡§®‡•á‡§Ç");
        return;
    }

    d.ticket = generateTicketNumber();

    // ‚≠ê Google Sheet Save
    fetch("https://script.google.com/macros/s/AKfycbw8fIg6SeBxicukuA9Nq26iPlA6uiw4LPBb9ss877icMQEY3nZ3gYB5GeH0kNJTIgqn/exec", {
        method: "POST",
        body: JSON.stringify(d)
    });

    generatePDF(d);
};

// ONLINE PAYMENT
document.getElementById('btnPay').onclick = function(){
    let d = getFormData();
    if (!validate(d)) return;

    if (d.payment !== "ONLINE") {
        alert("‡§ï‡•É‡§™‡§Ø‡§æ Payment Mode ‚Üí Online ‡§ö‡•Å‡§®‡•á‡§Ç");
        return;
    }

    d.ticket = generateTicketNumber();

    var options = {
        key: "rzp_test_123456789",
        amount: 250 * 100,
        currency: "INR",
        name: "Shree Shyam Yatra",
        description: "Ticket Booking",

        handler: function (response){

            // ‚≠ê Google Sheet Save
            fetch("https://script.google.com/macros/s/AKfycbw8fIg6SeBxicukuA9Nq26iPlA6uiw4LPBb9ss877icMQEY3nZ3gYB5GeH0kNJTIgqn/exec", {
                method: "POST",
                body: JSON.stringify(d)
            });

            generatePDF(d);
        },

        prefill: { 
            name: d.name,
            contact: d.phone
        },
        theme: { color: "#c62828" }
    };

    var rzp = new Razorpay(options);
    rzp.open();
};

</script>


<footer style="
    background:#f5f5f5;
    padding:18px 10px;
    margin-top:30px;
    border-top:1px solid #e0e0e0;
    text-align:center;
    font-size:0.85rem;
    color:#555;
">

    <div style="font-weight:600; color:#c62828; font-size:20px; margin-bottom:6px;">
        Khatu Shyam Yatra Kotputli <br>
        <span style="font-size:12px; color:#777;">Powered By: Shyam Group Kotputli</span>
    </div>

<div style="margin:15px 0; display:flex; justify-content:center; gap:12px; flex-wrap:wrap;">

    <a href="tel:+919799064420" style="
        display:flex;
        align-items:center;
        gap:8px;
        background:linear-gradient(90deg,#d32f2f,#b71c1c);
        color:#fff;
        padding:10px 18px;
        border-radius:50px;
        text-decoration:none;
        font-weight:600;
        font-size:0.9rem;
        box-shadow:0 3px 6px rgba(0,0,0,0.2);
    ">
        üìû <span>Call Now</span>
    </a>

    <a href="https://wa.me/919799064420" style="
        display:flex;
        align-items:center;
        gap:8px;
        background:#25D366;
        color:#fff;
        padding:10px 18px;
        border-radius:50px;
        text-decoration:none;
        font-weight:600;
        font-size:0.9rem;
        box-shadow:0 3px 6px rgba(0,0,0,0.2);
    ">

        <svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='#fff' viewBox='0 0 24 24'>
            <path d='M20.52 3.48A11.8 11.8 0 0012 0C5.38 0 0 5.38 0 12a11.84 11.84 0 001.72 6.12L0 24l6.14-1.6A11.92 11.92 0 0012 24c6.62 0 12-5.38 12-12 0-3.19-1.24-6.21-3.48-8.52zM12 22a9.93 9.93 0 01-5.2-1.46l-.37-.22-3.64.95.97-3.54-.24-.39A9.94 9.94 0 1122 12c0 5.52-4.48 10-10 10zm5.29-7.71c-.29-.15-1.71-.84-1.97-.94-.26-.1-.45-.15-.64.15-.19.29-.74.94-.91 1.13-.17.19-.34.22-.63.07-.29-.15-1.23-.45-2.35-1.44-.87-.78-1.46-1.74-1.63-2.03-.17-.29-.02-.45.13-.6.14-.14.29-.34.44-.51.15-.17.19-.29.29-.48.1-.19.05-.36-.02-.51-.07-.15-.64-1.54-.88-2.11-.23-.55-.47-.48-.64-.48-.17 0-.36-.02-.55-.02s-.51.07-.78.36c-.26.29-1.02 1-1.02 2.43 0 1.43 1.04 2.81 1.18 3 .15.19 2.05 3.15 5.03 4.42.7.3 1.24.48 1.66.61.7.22 1.34.19 1.84.12.56-.08 1.71-.7 1.95-1.38.24-.68.24-1.27.17-1.38-.07-.12-.26-.19-.55-.34z'/>
        </svg>

        <span>WhatsApp</span>
    </a>

</div>

<div>
    ¬© 2025 All Rights Reserved | 
    <a href="https://wa.me/919799064420" 
       style="color:#c62828; font-weight:600; text-decoration:none;">
        SOURAVtech IT Solution Kotputli
    </a>
</div>

</footer>

</body>
</html>
